server {
        listen 127.0.0.1:8080 default_server;
        listen [::1]:8080 default_server;

        root /home/deploy/quiz/public;
        index index.php index.html index.htm;

        server_name _;

        location / {
                try_files $uri $uri/ /index.php?$query_string;
        }

        location ~* ^/(data|lib|vendor|composer\.json|composer\.lock) {
                deny all;
        }

        location ~ \.php$ {
                include snippets/fastcgi-php.conf;
                fastcgi_pass unix:/run/php/php8.2-fpm.sock;
        }

        location ~* \.(json|lock|env|ini|log)$ {
                deny all;
        }
}
